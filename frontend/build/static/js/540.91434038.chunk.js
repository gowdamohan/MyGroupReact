"use strict";(self.webpackChunkmygroup_frontend=self.webpackChunkmygroup_frontend||[]).push([[540],{6540:(e,n,s)=>{s.r(n),s.d(n,{default:()=>E});var r=s(9950),t=s(6491),l=s(2053),i=s(899),c=s(470),a=s(704),d=s(2235),o=s(9925),h=s(226),x=s(1320),A=s(5769),u=s(9780),j=s(9213),m=s(1671),g=s(4075),y=s(5277),v=s(5333),C=s(3464),f=s(33),p=s(8170),_=s(9739),b=s(4066),w=s(9715),S=s(3256),k=s(5471),L=s(4414);const W=(0,k.A)((0,L.jsx)("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag");var I=s(379),z=s(4271),D=s(2715);const E=()=>{const{data:e,loading:n,refetch:s}=(0,z.g)(()=>D.Ay.get("/admin/countries")),[k,E]=(0,r.useState)([]),[N,V]=(0,r.useState)(""),[F,M]=(0,r.useState)(!1),[H,P]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{await s(),e&&E(e.countries||[])}catch(n){console.error("Error fetching countries:",n)}})()},[]);const T=k.filter(e=>e.country_name.toLowerCase().includes(N.toLowerCase())||e.country_code.toLowerCase().includes(N.toLowerCase())),U=()=>{M(!1),P(null)};return(0,L.jsxs)(t.A,{sx:{p:3},children:[(0,L.jsxs)(l.A,{variant:"h4",sx:{mb:3,display:"flex",alignItems:"center"},children:[(0,L.jsx)(b.A,{sx:{mr:2}}),"Countries Management"]}),(0,L.jsxs)(i.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,L.jsx)(i.Ay,{item:!0,xs:12,md:3,children:(0,L.jsx)(c.A,{children:(0,L.jsxs)(a.A,{children:[(0,L.jsx)(l.A,{variant:"h6",color:"primary",children:"Total Countries"}),(0,L.jsx)(l.A,{variant:"h4",children:k.length})]})})}),(0,L.jsx)(i.Ay,{item:!0,xs:12,md:3,children:(0,L.jsx)(c.A,{children:(0,L.jsxs)(a.A,{children:[(0,L.jsx)(l.A,{variant:"h6",color:"success.main",children:"Active Countries"}),(0,L.jsx)(l.A,{variant:"h4",children:k.filter(e=>"active"===e.status).length})]})})})]}),(0,L.jsx)(d.A,{sx:{p:2,mb:3},children:(0,L.jsxs)(i.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,L.jsx)(i.Ay,{item:!0,xs:12,md:8,children:(0,L.jsx)(o.A,{fullWidth:!0,placeholder:"Search countries...",value:N,onChange:e=>V(e.target.value),InputProps:{startAdornment:(0,L.jsx)(w.A,{sx:{color:"action.active",mr:1}})}})}),(0,L.jsx)(i.Ay,{item:!0,xs:12,md:4,children:(0,L.jsx)(h.A,{fullWidth:!0,variant:"contained",startIcon:(0,L.jsx)(S.A,{}),onClick:()=>M(!0),children:"Add Country"})})]})}),(0,L.jsx)(x.A,{component:d.A,children:(0,L.jsxs)(A.A,{children:[(0,L.jsx)(u.A,{children:(0,L.jsxs)(j.A,{children:[(0,L.jsx)(m.A,{children:"Flag"}),(0,L.jsx)(m.A,{children:"Country Name"}),(0,L.jsx)(m.A,{children:"Country Code"}),(0,L.jsx)(m.A,{children:"Status"}),(0,L.jsx)(m.A,{children:"Created Date"}),(0,L.jsx)(m.A,{children:"Actions"})]})}),(0,L.jsx)(g.A,{children:n?(0,L.jsx)(j.A,{children:(0,L.jsx)(m.A,{colSpan:6,align:"center",children:"Loading..."})}):0===T.length?(0,L.jsx)(j.A,{children:(0,L.jsx)(m.A,{colSpan:6,align:"center",children:"No countries found"})}):T.map(e=>(0,L.jsxs)(j.A,{hover:!0,children:[(0,L.jsx)(m.A,{children:e.flag_image?(0,L.jsx)("img",{src:e.flag_image,alt:e.country_name,style:{width:30,height:20}}):(0,L.jsx)(W,{color:"action"})}),(0,L.jsx)(m.A,{children:(0,L.jsx)(l.A,{variant:"subtitle2",children:e.country_name})}),(0,L.jsx)(m.A,{children:(0,L.jsx)(y.A,{label:e.country_code,size:"small",variant:"outlined"})}),(0,L.jsx)(m.A,{children:(0,L.jsx)(y.A,{label:e.status,color:"active"===e.status?"success":"default",size:"small"})}),(0,L.jsx)(m.A,{children:(0,L.jsx)(l.A,{variant:"body2",children:new Date(e.created_date).toLocaleDateString()})}),(0,L.jsx)(m.A,{children:(0,L.jsx)(v.A,{onClick:()=>(e=>{P(e),M(!0)})(e),children:(0,L.jsx)(I.A,{})})})]},e.id))})]})}),(0,L.jsxs)(C.A,{open:F,onClose:U,maxWidth:"sm",fullWidth:!0,children:[(0,L.jsx)(f.A,{children:H?"Edit Country":"Add Country"}),(0,L.jsxs)(p.A,{children:[(0,L.jsx)(o.A,{fullWidth:!0,label:"Country Name",margin:"normal",defaultValue:(null===H||void 0===H?void 0:H.country_name)||""}),(0,L.jsx)(o.A,{fullWidth:!0,label:"Country Code",margin:"normal",defaultValue:(null===H||void 0===H?void 0:H.country_code)||""})]}),(0,L.jsxs)(_.A,{children:[(0,L.jsx)(h.A,{onClick:U,children:"Cancel"}),(0,L.jsx)(h.A,{variant:"contained",children:H?"Update":"Add"})]})]})]})}}}]);