"use strict";(self.webpackChunkmygroup_frontend=self.webpackChunkmygroup_frontend||[]).push([[575],{575:(e,r,a)=>{a.r(r),a.d(r,{default:()=>z});var n=a(9950),l=a(6491),s=a(2053),t=a(899),i=a(470),c=a(704),d=a(2235),o=a(9925),x=a(5979),h=a(3788),A=a(6101),j=a(3266),u=a(226),m=a(1320),v=a(5769),g=a(9780),p=a(9213),y=a(1671),b=a(4075),f=a(1413),C=a(5277),S=a(1434),P=a(8321),_=a(421),w=a(294),I=a(9715),k=a(774),L=a(4271),E=a(2715),W=a(4414);const z=()=>{const{data:e,loading:r,refetch:a}=(0,L.g)(()=>E.Ay.get("/admin/labor",{params:{page:O+1,limit:N,search:B,category:G,status:J}})),[z,D]=(0,n.useState)([]),[O,M]=(0,n.useState)(0),[N,R]=(0,n.useState)(10),[T,q]=(0,n.useState)(0),[B,F]=(0,n.useState)(""),[G,H]=(0,n.useState)("all"),[J,K]=(0,n.useState)("all");(0,n.useEffect)(()=>{(async()=>{try{await a(),e&&(D(e.labor||[]),q("number"===typeof e.total?e.total:0))}catch(r){console.error("Error fetching labor:",r)}})()},[O,N,B,G,J]);const Q=e=>{switch(e){case"active":return"success";case"inactive":return"error";default:return"default"}};return(0,W.jsxs)(l.A,{sx:{p:3},children:[(0,W.jsxs)(s.A,{variant:"h4",sx:{mb:3,display:"flex",alignItems:"center"},children:[(0,W.jsx)(k.A,{sx:{mr:2}}),"Labor Management"]}),(0,W.jsx)(t.Ay,{container:!0,spacing:3,sx:{mb:3},children:(0,W.jsx)(t.Ay,{item:!0,xs:12,md:3,children:(0,W.jsx)(i.A,{children:(0,W.jsxs)(c.A,{children:[(0,W.jsx)(s.A,{variant:"h6",color:"primary",children:"Total Labor"}),(0,W.jsx)(s.A,{variant:"h4",children:T})]})})})}),(0,W.jsx)(d.A,{sx:{p:2,mb:3},children:(0,W.jsxs)(t.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,W.jsx)(t.Ay,{item:!0,xs:12,md:4,children:(0,W.jsx)(o.A,{fullWidth:!0,placeholder:"Search labor...",value:B,onChange:e=>F(e.target.value),InputProps:{startAdornment:(0,W.jsx)(I.A,{sx:{color:"action.active",mr:1}})}})}),(0,W.jsx)(t.Ay,{item:!0,xs:12,md:3,children:(0,W.jsxs)(x.A,{fullWidth:!0,children:[(0,W.jsx)(h.A,{children:"Category"}),(0,W.jsxs)(A.A,{value:G,onChange:e=>H(e.target.value),label:"Category",children:[(0,W.jsx)(j.A,{value:"all",children:"All Categories"}),(0,W.jsx)(j.A,{value:"Construction",children:"Construction"}),(0,W.jsx)(j.A,{value:"Electrical",children:"Electrical"}),(0,W.jsx)(j.A,{value:"Plumbing",children:"Plumbing"}),(0,W.jsx)(j.A,{value:"Carpentry",children:"Carpentry"}),(0,W.jsx)(j.A,{value:"Other",children:"Other"})]})]})}),(0,W.jsx)(t.Ay,{item:!0,xs:12,md:3,children:(0,W.jsxs)(x.A,{fullWidth:!0,children:[(0,W.jsx)(h.A,{children:"Status"}),(0,W.jsxs)(A.A,{value:J,onChange:e=>K(e.target.value),label:"Status",children:[(0,W.jsx)(j.A,{value:"all",children:"All Status"}),(0,W.jsx)(j.A,{value:"active",children:"Active"}),(0,W.jsx)(j.A,{value:"inactive",children:"Inactive"})]})]})}),(0,W.jsx)(t.Ay,{item:!0,xs:12,md:2,children:(0,W.jsx)(u.A,{fullWidth:!0,variant:"outlined",startIcon:(0,W.jsx)(P.A,{}),onClick:()=>{F(""),H("all"),K("all")},children:"Clear"})})]})}),(0,W.jsxs)(m.A,{component:d.A,children:[(0,W.jsxs)(v.A,{children:[(0,W.jsx)(g.A,{children:(0,W.jsxs)(p.A,{children:[(0,W.jsx)(y.A,{children:"Labor"}),(0,W.jsx)(y.A,{children:"Category"}),(0,W.jsx)(y.A,{children:"Contact"}),(0,W.jsx)(y.A,{children:"Experience"}),(0,W.jsx)(y.A,{children:"Location"}),(0,W.jsx)(y.A,{children:"Status"}),(0,W.jsx)(y.A,{children:"Created Date"})]})}),(0,W.jsx)(b.A,{children:r?(0,W.jsx)(p.A,{children:(0,W.jsx)(y.A,{colSpan:7,align:"center",children:"Loading..."})}):0===z.length?(0,W.jsx)(p.A,{children:(0,W.jsx)(y.A,{colSpan:7,align:"center",children:"No labor found"})}):z.map(e=>{var r,a,n;return(0,W.jsxs)(p.A,{hover:!0,children:[(0,W.jsx)(y.A,{children:(0,W.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,W.jsx)(f.A,{sx:{mr:2,bgcolor:"primary.main"},children:(0,W.jsx)(w.A,{})}),(0,W.jsxs)(l.A,{children:[(0,W.jsx)(s.A,{variant:"subtitle2",children:e.labor_name}),e.user&&(0,W.jsxs)(s.A,{variant:"caption",color:"text.secondary",children:[e.user.first_name," ",e.user.last_name]})]})]})}),(0,W.jsx)(y.A,{children:(0,W.jsx)(C.A,{label:e.labor_category,size:"small",variant:"outlined"})}),(0,W.jsxs)(y.A,{children:[(0,W.jsx)(s.A,{variant:"body2",children:e.phone}),(0,W.jsx)(s.A,{variant:"caption",color:"text.secondary",children:e.email})]}),(0,W.jsx)(y.A,{children:(0,W.jsx)(s.A,{variant:"body2",children:e.experience})}),(0,W.jsx)(y.A,{children:(0,W.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,W.jsx)(_.A,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),(0,W.jsxs)(l.A,{children:[(0,W.jsx)(s.A,{variant:"caption",display:"block",children:null===(r=e.country)||void 0===r?void 0:r.country_name}),(0,W.jsxs)(s.A,{variant:"caption",color:"text.secondary",children:[null===(a=e.state)||void 0===a?void 0:a.state_name,", ",null===(n=e.district)||void 0===n?void 0:n.district_name]})]})]})}),(0,W.jsx)(y.A,{children:(0,W.jsx)(C.A,{label:e.status,color:Q(e.status),size:"small"})}),(0,W.jsx)(y.A,{children:(0,W.jsx)(s.A,{variant:"body2",children:new Date(e.created_date).toLocaleDateString()})})]},e.id)})})]}),(0,W.jsx)(S.A,{rowsPerPageOptions:[5,10,25],component:"div",count:T,rowsPerPage:N,page:O,onPageChange:(e,r)=>{M(r)},onRowsPerPageChange:e=>{R(parseInt(e.target.value,10)),M(0)}})]})]})}}}]);