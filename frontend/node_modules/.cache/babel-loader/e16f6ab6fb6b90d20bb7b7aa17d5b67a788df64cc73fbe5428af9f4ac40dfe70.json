{"ast":null,"code":"import _objectSpread from\"D:/MyGroupReact/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate,Link as RouterLink,Navigate}from'react-router-dom';import{Container,Paper,TextField,Button,Typography,Box,Alert,CircularProgress,Link,Grid,FormControlLabel,Checkbox,Divider}from'@mui/material';import{useForm}from'react-hook-form';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{var _errors$email,_errors$password;const{login,isAuthenticated}=useAuth();const navigate=useNavigate();const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{register,handleSubmit,formState:{errors}}=useForm();if(isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}const onSubmit=async data=>{setLoading(true);setError('');try{await login(data.email,data.password);navigate('/dashboard');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:4,display:'flex',flexDirection:'column',alignItems:'center',minHeight:'100vh'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,width:'100%',mt:4},children:[/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",mb:3,children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",color:\"primary\",fontWeight:\"bold\",children:\"My Group\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",color:\"textSecondary\",children:\"Welcome back! Please sign in to your account\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit(onSubmit),sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",autoComplete:\"email\",autoFocus:true},register('email',{required:'Email is required',pattern:{value:/^\\S+@\\S+$/i,message:'Invalid email address'}})),{},{error:!!errors.email,helperText:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({margin:\"normal\",required:true,fullWidth:true,label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\"},register('password',{required:'Password is required',minLength:{value:6,message:'Password must be at least 6 characters'}})),{},{error:!!errors.password,helperText:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message})),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mt:1},children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,_objectSpread(_objectSpread({},register('remember')),{},{color:\"primary\"})),label:\"Remember me\"}),/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/forgot-password\",variant:\"body2\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2,py:1.5},disabled:loading,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):null,size:\"large\",children:loading?'Signing In...':'Sign In'}),/*#__PURE__*/_jsx(Divider,{sx:{my:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"OR\"})}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{component:RouterLink,to:\"/register\",fullWidth:true,variant:\"outlined\",size:\"large\",sx:{py:1.5},children:\"Create New Account\"})})}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",mt:3,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/register\",color:\"primary\",children:\"Register here\"})]})})]})]})})});};export default Login;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}