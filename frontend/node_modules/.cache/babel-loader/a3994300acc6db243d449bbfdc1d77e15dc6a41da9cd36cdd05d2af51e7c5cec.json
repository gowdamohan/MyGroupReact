{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport function useApi(apiCall, options = {\n  immediate: true\n}) {\n  _s();\n  const [state, setState] = useState({\n    data: null,\n    loading: false,\n    error: null\n  });\n  const execute = async () => {\n    setState(prev => ({\n      ...prev,\n      loading: true,\n      error: null\n    }));\n    try {\n      const response = await apiCall();\n      setState({\n        data: response.data,\n        loading: false,\n        error: null\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setState({\n        data: null,\n        loading: false,\n        error: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'An error occurred'\n      });\n    }\n  };\n  useEffect(() => {\n    if (options.immediate) {\n      execute();\n    }\n  }, []);\n  return {\n    ...state,\n    refetch: execute\n  };\n}\n_s(useApi, \"oaA6f0nw6znT0QhCLz9NSLaZnQ4=\");\nexport function useApiMutation(apiCall) {\n  _s2();\n  const [state, setState] = useState({\n    data: null,\n    loading: false,\n    error: null\n  });\n  const mutate = async params => {\n    setState(prev => ({\n      ...prev,\n      loading: true,\n      error: null\n    }));\n    try {\n      const response = await apiCall(params);\n      setState({\n        data: response.data,\n        loading: false,\n        error: null\n      });\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setState({\n        data: null,\n        loading: false,\n        error: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message || 'An error occurred'\n      });\n      throw error; // Re-throw so calling code can handle\n    }\n  };\n  return {\n    mutate,\n    ...state\n  };\n}\n_s2(useApiMutation, \"oi9sGE1f2Koh7p45J0rBADjc7iI=\");","map":{"version":3,"names":["useState","useEffect","useApi","apiCall","options","immediate","_s","state","setState","data","loading","error","execute","prev","response","_error$response","_error$response$data","message","refetch","useApiMutation","_s2","mutate","params","_error$response2","_error$response2$data"],"sources":["D:/MyGroupReact/frontend/src/hooks/useApi.ts"],"sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport { api } from '../services/api';\n\ninterface UseApiState<T> {\n  data: T | null;\n  loading: boolean;\n  error: string | null;\n}\n\ninterface UseApiOptions {\n  immediate?: boolean;\n}\n\nexport function useApi<T>(\n  apiCall: () => Promise<{ data: T }>,\n  options: UseApiOptions = { immediate: true }\n): UseApiState<T> & { refetch: () => Promise<void> } {\n  const [state, setState] = useState<UseApiState<T>>({\n    data: null,\n    loading: false,\n    error: null,\n  });\n\n  const execute = async () => {\n    setState(prev => ({ ...prev, loading: true, error: null }));\n    \n    try {\n      const response = await apiCall();\n      setState({ data: response.data, loading: false, error: null });\n    } catch (error: any) {\n      setState({\n        data: null,\n        loading: false,\n        error: error.response?.data?.message || error.message || 'An error occurred'\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (options.immediate) {\n      execute();\n    }\n  }, []);\n\n  return {\n    ...state,\n    refetch: execute,\n  };\n}\n\nexport function useApiMutation<T, P = any>(\n  apiCall: (params: P) => Promise<{ data: T }>\n): {\n  mutate: (params: P) => Promise<void>;\n  data: T | null;\n  loading: boolean;\n  error: string | null;\n} {\n  const [state, setState] = useState<UseApiState<T>>({\n    data: null,\n    loading: false,\n    error: null,\n  });\n\n  const mutate = async (params: P) => {\n    setState(prev => ({ ...prev, loading: true, error: null }));\n    \n    try {\n      const response = await apiCall(params);\n      setState({ data: response.data, loading: false, error: null });\n    } catch (error: any) {\n      setState({\n        data: null,\n        loading: false,\n        error: error.response?.data?.message || error.message || 'An error occurred'\n      });\n      throw error; // Re-throw so calling code can handle\n    }\n  };\n\n  return {\n    mutate,\n    ...state,\n  };\n}\n"],"mappings":";;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAa3C,OAAO,SAASC,MAAMA,CACpBC,OAAmC,EACnCC,OAAsB,GAAG;EAAEC,SAAS,EAAE;AAAK,CAAC,EACO;EAAAC,EAAA;EACnD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAiB;IACjDS,IAAI,EAAE,IAAI;IACVC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE;EACT,CAAC,CAAC;EAEF,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1BJ,QAAQ,CAACK,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEH,OAAO,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAK,CAAC,CAAC,CAAC;IAE3D,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMX,OAAO,CAAC,CAAC;MAChCK,QAAQ,CAAC;QAAEC,IAAI,EAAEK,QAAQ,CAACL,IAAI;QAAEC,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;IAChE,CAAC,CAAC,OAAOA,KAAU,EAAE;MAAA,IAAAI,eAAA,EAAAC,oBAAA;MACnBR,QAAQ,CAAC;QACPC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE,EAAAI,eAAA,GAAAJ,KAAK,CAACG,QAAQ,cAAAC,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBN,IAAI,cAAAO,oBAAA,uBAApBA,oBAAA,CAAsBC,OAAO,KAAIN,KAAK,CAACM,OAAO,IAAI;MAC3D,CAAC,CAAC;IACJ;EACF,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACd,IAAIG,OAAO,CAACC,SAAS,EAAE;MACrBO,OAAO,CAAC,CAAC;IACX;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACL,GAAGL,KAAK;IACRW,OAAO,EAAEN;EACX,CAAC;AACH;AAACN,EAAA,CAnCeJ,MAAM;AAqCtB,OAAO,SAASiB,cAAcA,CAC5BhB,OAA4C,EAM5C;EAAAiB,GAAA;EACA,MAAM,CAACb,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAiB;IACjDS,IAAI,EAAE,IAAI;IACVC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE;EACT,CAAC,CAAC;EAEF,MAAMU,MAAM,GAAG,MAAOC,MAAS,IAAK;IAClCd,QAAQ,CAACK,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEH,OAAO,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAK,CAAC,CAAC,CAAC;IAE3D,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMX,OAAO,CAACmB,MAAM,CAAC;MACtCd,QAAQ,CAAC;QAAEC,IAAI,EAAEK,QAAQ,CAACL,IAAI;QAAEC,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;IAChE,CAAC,CAAC,OAAOA,KAAU,EAAE;MAAA,IAAAY,gBAAA,EAAAC,qBAAA;MACnBhB,QAAQ,CAAC;QACPC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE,EAAAY,gBAAA,GAAAZ,KAAK,CAACG,QAAQ,cAAAS,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBd,IAAI,cAAAe,qBAAA,uBAApBA,qBAAA,CAAsBP,OAAO,KAAIN,KAAK,CAACM,OAAO,IAAI;MAC3D,CAAC,CAAC;MACF,MAAMN,KAAK,CAAC,CAAC;IACf;EACF,CAAC;EAED,OAAO;IACLU,MAAM;IACN,GAAGd;EACL,CAAC;AACH;AAACa,GAAA,CAlCeD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}